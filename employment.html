<!DOCTYPE html>
<html lang="en">

<head class="hm-head">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" type="image/x-icon" href="img/logo.png">
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Navbar icon -->
  <title>KometCare - Employment</title>
</head>

<body>
  <div id="employment">
    <div class="hm-body"> <!--Body tag has been replaced with div so as to avoid two body tag use in the other pages -->
      <nav class="hm-nav">
        <div class="hm-container">
          <h1 class="hm-logo"><a class="hm-a" href="index.html">KometCare</a></h1>
          <ul class="hm-ul">
            <li><a href="index.html" class="hm-a">Home</a></li>
            <!--(EmresPage)current class is used to higlight the content it will change in every page -->
            <li><a href="aboutus.html" class="hm-a">About</a></li> <!--(IrenesPAge)-->
            <li><a href="eligibility-requirement.html" class="hm-a">Eligibility Requirement</a></li>
            <!--(JinniesPage)-->
            <li><a href="VisaRequirements.html" class="hm-a">VISA Requirement</a></li> <!--(EmresPage) -->
            <li><a href="generalInfo.html" class="hm-a">General Information</a></li> <!--(MisosPage)-->
            <li><a href="employment.html" class="hm-a current">Employment</a></li> <!--(JinniesPage)-->
            <li><a href="salaryDetail.html" class="hm-a">Salary Details</a></li> <!--(MisosPage)-->
            <li><a href="contactus.html" class="hm-a">Contact</a></li> <!--(IrenesPAge)-->
            <li><a href="javascript:void(0);" class="hm-icon" onclick="hmopennav()">
                <i class="fa fa-bars"></i>
              </a>
          </ul>
        </div>
      </nav>
    </div>
    <div class="slide slide_wrap">
      <div class="slide_item">
        <h1 class="main-box__order">1</h1>
          <div class="main-box-text">
            <h2 class="main-box__h2">Title of Job</h2>
            <p class="main-box__p">
              &nbsp;&nbsp;Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus autem quos eligendi
              voluptatum suscipit hic qui dignissimos officia sit incidunt, repudiandae sapiente tempora vero odio
              at esse laborum consequuntur itaque molestiae eius praesentium!
            </p>
          </div>
      </div>
      <div class="slide_item">
        <h1 class="main-box__order">2</h1>
        <div class="main-box-text">
          <h2 class="main-box__h2">Location of Employment</h2>
          <p class="main-box__p">
            &nbsp;&nbsp;Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus autem quos eligendi
            voluptatum suscipit hic qui dignissimos officia sit incidunt, repudiandae sapiente tempora vero odio
            at esse laborum consequuntur itaque molestiae eius praesentium!
          </p>
        </div>
      </div>
      <div class="slide_item">
        <h1 class="main-box__order">3</h1>
        <div class="main-box-text">
          <h2 class="main-box__h2">Proposed Period of Employment</h2>
          <p class="main-box__p">
            &nbsp;&nbsp;Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus autem quos eligendi
            voluptatum suscipit hic qui dignissimos officia sit incidunt, repudiandae sapiente tempora vero odio
            at esse laborum consequuntur itaque molestiae eius praesentium!
          </p>
        </div>
      </div>
      <div class="slide_item">
        <h1 class="main-box__order">4</h1>
        <div class="main-box-text">
          <h2 class="main-box__h2">Details of Qualifications for This Role</h2>
          <p class="main-box__p">
            &nbsp;&nbsp;Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus autem quos eligendi
            voluptatum suscipit hic qui dignissimos officia sit incidunt, repudiandae sapiente tempora vero odio
            at esse laborum consequuntur itaque molestiae eius praesentium!
          </p>
        </div>
      </div>
      <div class="slide_item">
        <h1 class="main-box__order">5</h1>
        <div class="main-box-text">
          <h2 class="main-box__h2">Details of Qualifications of The Non-EEA National</h2>
          <p class="main-box__p">
            &nbsp;&nbsp;Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellendus autem quos eligendi
            voluptatum suscipit hic qui dignissimos officia sit incidunt, repudiandae sapiente tempora vero odio
            at esse laborum consequuntur itaque molestiae eius praesentium!
          </p>
        </div>
      </div>
      <div class="slide_prev_button slide_button">◀</div>
      <ul class="slide_pagination"></ul>
      <div class="slide_next_button slide_button">▶</div>
    </div>
    <script>
      // 슬라이크 전체 크기(width 구하기)
      const slide = document.querySelector(".slide");
      let slideWidth = slide.clientWidth;

      // 버튼 엘리먼트 선택하기
      const prevBtn = document.querySelector(".slide_prev_button");
      const nextBtn = document.querySelector(".slide_next_button");

      // 슬라이드 전체를 선택해 값을 변경해주기 위해 슬라이드 전체 선택하기
      const slideItems = document.querySelectorAll(".slide_item");
      // 현재 슬라이드 위치가 슬라이드 개수를 넘기지 않게 하기 위한 변수
      const maxSlide = slideItems.length;

      // 버튼 클릭할 때 마다 현재 슬라이드가 어디인지 알려주기 위한 변수
      let currSlide = 1;

      // 페이지네이션 생성
      const pagination = document.querySelector(".slide_pagination");

      for (let i = 0; i < maxSlide; i++) {
        if (i === 0) pagination.innerHTML += `<li class="active">•</li>`;
        else pagination.innerHTML += `<li>•</li>`;
      }

      const paginationItems = document.querySelectorAll(".slide_pagination > li");
      console.log(paginationItems);

      // 버튼 엘리먼트에 클릭 이벤트 추가하기
      nextBtn.addEventListener("click", () => {
        // 이후 버튼 누를 경우 현재 슬라이드를 변경
        currSlide++;
        // 마지막 슬라이드 이상으로 넘어가지 않게 하기 위해서
        if (currSlide <= maxSlide) {
          // 슬라이드를 이동시키기 위한 offset 계산
          const offset = slideWidth * (currSlide - 1);
          // 각 슬라이드 아이템의 left에 offset 적용
          slideItems.forEach((i) => {
            i.setAttribute("style", `left: ${-offset}px`);
          });
          // 슬라이드 이동 시 현재 활성화된 pagination 변경
          paginationItems.forEach((i) => i.classList.remove("active"));
          paginationItems[currSlide - 1].classList.add("active");
        } else {
          currSlide--;
        }
      });
      // 버튼 엘리먼트에 클릭 이벤트 추가하기
      prevBtn.addEventListener("click", () => {
        // 이전 버튼 누를 경우 현재 슬라이드를 변경
        currSlide--;
        // 1번째 슬라이드 이하로 넘어가지 않게 하기 위해서
        if (currSlide > 0) {
          // 슬라이드를 이동시키기 위한 offset 계산
          const offset = slideWidth * (currSlide - 1);
          // 각 슬라이드 아이템의 left에 offset 적용
          slideItems.forEach((i) => {
            i.setAttribute("style", `left: ${-offset}px`);
          });
          // 슬라이드 이동 시 현재 활성화된 pagination 변경
          paginationItems.forEach((i) => i.classList.remove("active"));
          paginationItems[currSlide - 1].classList.add("active");
        } else {
          currSlide++;
        }
      });

      // 브라우저 화면이 조정될 때 마다 slideWidth를 변경하기 위해
      window.addEventListener("resize", () => {
        slideWidth = slide.clientWidth;
      });

      // 각 페이지네이션 클릭 시 해당 슬라이드로 이동하기
      for (let i = 0; i < maxSlide; i++) {
        // 각 페이지네이션마다 클릭 이벤트 추가하기
        paginationItems[i].addEventListener("click", () => {
          // 클릭한 페이지네이션에 따라 현재 슬라이드 변경해주기(currSlide는 시작 위치가 1이기 때문에 + 1)
          currSlide = i + 1;
          // 슬라이드를 이동시키기 위한 offset 계산
          const offset = slideWidth * (currSlide - 1);
          // 각 슬라이드 아이템의 left에 offset 적용
          slideItems.forEach((i) => {
            i.setAttribute("style", `left: ${-offset}px`);
          });
          // 슬라이드 이동 시 현재 활성화된 pagination 변경
          paginationItems.forEach((i) => i.classList.remove("active"));
          paginationItems[currSlide - 1].classList.add("active");
        });
      }
    </script>
</body>
</html>
